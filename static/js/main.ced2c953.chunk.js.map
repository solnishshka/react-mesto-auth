{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/editAvatarButton.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/ConfirmDeletePlacePopup.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","useState","isOpen","setIsOpen","className","loggedIn","email","type","onClick","handleLogout","text","src","logo","alt","to","link","Footer","CurrentUserContext","React","createContext","Card","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","onCardClick","name","owner","aria-label","onCardDelete","onCardLike","length","Main","style","backgroundImage","editAvatarButton","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Login","handleLogin","password","formValue","setFormValue","handleInputChange","evt","target","value","prevState","onSubmit","preventDefault","onChange","placeholder","id","required","Register","handleRegister","ProtectedRoute","Component","component","PopupWithForm","onClose","noValidate","title","children","submitText","EditProfilePopup","setName","description","setDescription","useEffect","e","onUpdateUser","maxLength","minLength","EditAvatarPopup","imageRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","cardName","setCardName","cardUrl","setCardUrl","onAddNewCard","ImagePopup","cardImage","cardTitle","api","url","headers","this","_headers","_url","fetch","then","result","ok","json","Promise","reject","status","method","body","JSON","stringify","authorization","BASE_URL","ConfirmDeletePlacePopup","onDeleteCard","cardId","InfoTooltip","width","height","viewBox","fill","xmlns","success","fillRule","clipRule","d","withRouter","history","useHistory","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isInfoTooltipPopupOpen","setIsTooltipPopupOpen","selectedCard","setSelectedCard","cardIdForDelete","setCardIdForDelete","setCards","isLoading","setIsLoading","setLoggedIn","isSuccessRegister","setIsSuccessRegister","userEmail","setUserEmail","handleTokenCheck","localStorage","getItem","token","Authorization","checkToken","res","data","push","catch","err","console","log","handleInfoTooltipPopupOpen","closeAllPopups","handleOvelayOrCrossClose","classList","contains","getInitialCards","items","getUserInfo","onKeyUp","key","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","c","register","login","setItem","userData","setUserInfo","finally","userAvatar","setUserAvatar","cardData","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ced2c953.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\nimport React, { useState } from \"react\";\n\nfunction Header(props) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleMenu = () => {\n    if (isOpen) {\n      setIsOpen(false);\n    } else {\n      setIsOpen(true);\n    }\n  };\n\n  return (\n    <header className=\"header\">\n      {props.loggedIn && isOpen && (\n        <div className=\"header__menu\">\n          <p\n            className={`header__email header__email_theme_menu ${\n              isOpen && \"header__email_visible\"\n            }`}\n          >\n            {props.email}\n          </p>\n          <button\n            type=\"button\"\n            className={`header__button header__button_theme_menu ${\n              isOpen && \"header__button_visible\"\n            }`}\n            onClick={() => props.handleLogout()}\n          >\n            {props.text}\n          </button>\n        </div>\n      )}\n      <div className=\"header__container\">\n        <img src={logo} alt=\"Логотип сервиса Место\" className=\"header__logo\" />\n        {!props.loggedIn && (\n          <Link className=\"header__link\" to={props.link}>\n            {props.text}\n          </Link>\n        )}\n        {props.loggedIn && (\n          <>\n            <p className=\"header__email\">{props.email}</p>\n\n            <button\n              type=\"button\"\n              className=\"header__button\"\n              onClick={() => props.handleLogout()}\n            >\n              {props.text}\n            </button>\n            <button\n              className={`header__burger-menu ${\n                isOpen && \"header__burger-menu_opened\"\n              }`}\n              onClick={toggleMenu}\n            />\n          </>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/editAvatarButton.a086f758.svg\";","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React, { useContext } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button ${\n    isLiked ? \"element__like-button_liked\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteCard() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__image\"\n        src={props.card.link}\n        onClick={handleClick}\n        alt={`На фотографии: ${props.card.name}`}\n      />\n      <button\n        className={`element__delete-button ${\n          props.card.owner._id !== currentUser._id\n            ? \"element__delete-button_hidden\"\n            : \"\"\n        }`}\n        type=\"button\"\n        aria-label=\"Удалить\"\n        onClick={handleDeleteCard}\n      ></button>\n      <div className=\"element__title-item\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n            aria-label=\"Нравится\"\n          />\n          <p className=\"element__like-count\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport editAvatarButton from \"../images/editAvatarButton.svg\";\nimport Card from \"../components/Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div\n          className=\"profile__avatar-container\"\n          style={{\n            backgroundImage: `url(${editAvatarButton})`,\n          }}\n        >\n          <img\n            alt=\"Логотип профиля\"\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__profile-info\">\n          <div className=\"profile__title-item\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              aria-label=\"Редактировать профиль\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавить\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map((item) => (\n          <Card\n            card={item}\n            onCardClick={props.onCardClick}\n            key={item._id}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React, { useState } from \"react\";\n\nexport default function Login({ handleLogin }) {\n  const [formValue, setFormValue] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n    setFormValue((prevState) => ({ ...prevState, [name]: value }));\n  }\n\n  const { email, password } = formValue;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(email, password);\n  }\n\n  return (\n    <form className=\"form form_theme_auth\" name=\"login\" onSubmit={handleSubmit}>\n      <h2 className=\"form__title form__title_theme_auth\">Вход</h2>\n      <input\n        onChange={handleInputChange}\n        type=\"email\"\n        name=\"email\"\n        value={email}\n        placeholder=\"Email\"\n        className=\"form__item form__item_type_auth form__item_el_email\"\n        id=\"email\"\n        required\n      />\n      <span className=\"form__item-error\" id=\"email-error\"></span>\n      <input\n        onChange={handleInputChange}\n        type=\"password\"\n        name=\"password\"\n        value={password}\n        placeholder=\"Пароль\"\n        className=\"form__item form__item_type_auth form__item_el_password\"\n        id=\"password\"\n        required\n      />\n      <span className=\"form__item-error\" id=\"password-error\"></span>\n      <button\n        type=\"submit\"\n        className=\"form__submit-button form__submit-button_theme_auth\"\n      >\n        Войти\n      </button>\n    </form>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport React, { useState } from \"react\";\n\nexport default function Register({ handleRegister }) {\n  const [formValue, setFormValue] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n    setFormValue((prevState) => ({ ...prevState, [name]: value }));\n  }\n\n  const { email, password } = formValue;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleRegister(email, password);\n  }\n\n  return (\n    <form\n      className=\"form form_theme_auth\"\n      name=\"register\"\n      onSubmit={handleSubmit}\n    >\n      <h2 className=\"form__title form__title_theme_auth\">Регистрация</h2>\n      <input\n        value={email || \"\"}\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email\"\n        className=\"form__item form__item_type_auth form__item_el_email\"\n        id=\"email\"\n        onChange={handleInputChange}\n        required\n      />\n      <span className=\"form__item-error\" id=\"email-error\"></span>\n      <input\n        value={password || \"\"}\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Пароль\"\n        className=\"form__item form__item_type_auth form__item_el_password\"\n        id=\"password\"\n        onChange={handleInputChange}\n        required\n      />\n      <span className=\"form__item-error\" id=\"password-error\"></span>\n      <button\n        type=\"submit\"\n        className=\"form__submit-button form__submit-button_theme_auth\"\n      >\n        Зарегистрироваться\n      </button>\n      <p className=\"form__text\">\n        Уже зарегистрированы?\n        <Link to=\"/sign-in\" className=\"form__link\">\n          Войти\n        </Link>\n      </p>\n    </form>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nconst PopupWithForm = (props) => {\n  return (\n    <div\n      className={`popup popup_theme_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n      onClick={props.onClose}\n    >\n      <div className={`popup__container popup__container_theme_${props.name}`}>\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <form\n          className={`form form_type_${props.name}`}\n          name={props.name}\n          onSubmit={props.onSubmit}\n          noValidate\n        >\n          <h2 className=\"form__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"form__submit-button\">\n            {props.submitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  useEffect(() => {\n    if (!props.isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"userName\"\n        onChange={handleChangeName}\n        placeholder=\"Имя\"\n        className=\"form__item form__item_el_name\"\n        id=\"userName\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        value={name ? name : \"\"}\n        required\n      />\n      <span className=\"form__item-error\" id=\"userName-error\"></span>\n      <input\n        type=\"text\"\n        name=\"userJob\"\n        onChange={handleChangeDescription}\n        placeholder=\"О себе\"\n        className=\"form__item form__item_el_position\"\n        id=\"userJob\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description ? description : \"\"}\n        required\n      />\n      <span className=\"form__item-error\" id=\"userJob-error\"></span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React, { useRef, useEffect } from \"react\";\n\nexport default function EditAvatarPopup(props) {\n  const imageRef = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: imageRef.current.value,\n    });\n  }\n\n  useEffect(() => {\n    if (props.isOpen) {\n      imageRef.current.value = \"\";\n    }\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"avatarLink\"\n        placeholder=\"Ссылка на аватарку\"\n        className=\"form__item form__item_el_link-avatar\"\n        id=\"avatarLink\"\n        ref={imageRef}\n        required\n      />\n      <span className=\"form__item-error\" id=\"avatarLink-error\"></span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function AddPlacePopup(props) {\n  const [cardName, setCardName] = React.useState(\"\");\n  const [cardUrl, setCardUrl] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!props.isOpen) {\n      setCardName(\"\");\n      setCardUrl(\"\");\n    }\n  }, [props.isOpen]);\n\n  function handleChangeCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleChangeCardUrl(e) {\n    setCardUrl(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddNewCard({\n      link: cardUrl,\n      name: cardName,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"Новое место\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Название места\"\n        className=\"form__item form__item_el_title\"\n        id=\"cardTitle\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        onChange={handleChangeCardName}\n        value={cardName}\n        required\n      />\n      <span className=\"form__item-error\" id=\"cardTitle-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"form__item form__item_el_link\"\n        id=\"cardLink\"\n        onChange={handleChangeCardUrl}\n        value={cardUrl}\n        required\n      />\n      <span className=\"form__item-error\" id=\"cardLink-error\"></span>\n    </PopupWithForm>\n  );\n}\n","function ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_theme_preview-image ${\n        props.card.isOpen ? \"popup_opened\" : \"\"\n      }`}\n      onClick={props.onClose}\n    >\n      <div className=\"popup__container popup__container_theme_preview-image\">\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={props.card.cardImage}\n            alt={`На фотографии: ${props.card.cardTitle}`}\n          />\n          <figcaption className=\"popup__capture\">\n            {props.card.cardTitle}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({ url, headers }) {\n    this._headers = headers;\n    this._url = url;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  addNewCard({ link, name }) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((result) => {\n        if (result.ok) {\n          return result.json();\n        } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n      });\n    } else {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((result) => {\n        if (result.ok) {\n          return result.json();\n        } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n      });\n    }\n  }\n\n  setLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"159d2343-af0f-47ed-9479-4499ffedf0da\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      password,\n      email,\n    }),\n  }).then((result) => {\n    if (result.ok) {\n      return result.json();\n    } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n  });\n};\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      password,\n      email,\n    }),\n  }).then((result) => {\n    if (result.ok) {\n      return result.json();\n    } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n  });\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((result) => {\n    if (result.ok) {\n      return result.json();\n    } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n  });\n}","import PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmDeletePlacePopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onDeleteCard(props.cardId);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"apply-delete\"\n      title=\"Вы уверены?\"\n      submitText={props.submitText}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n","export default function InfoTooltip(props) {\n  return (\n    <div\n      className={`popup popup_theme_info-tooltip ${\n        props.isOpen && \"popup_opened\"\n      }`}\n      onClick={props.onClose}\n    >\n      <div className={`popup__container popup__container_theme_info`}>\n        <button\n          className=\"popup__close-button popup__close-button_theme_info\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <svg\n          className=\"popup__icon\"\n          width=\"120\"\n          height=\"120\"\n          viewBox=\"0 0 120 120\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          {props.success ? (\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M117 60C117 91.4802 91.4802 117 60 117C28.5198 117 3 91.4802 3 60C3 28.5198 28.5198 3 60 3C91.4802 3 117 28.5198 117 60ZM120 60C120 93.1371 93.1371 120 60 120C26.8629 120 0 93.1371 0 60C0 26.8629 26.8629 0 60 0C93.1371 0 120 26.8629 120 60ZM57.5502 76.888L86.7676 48.888L81.2324 43.112L54.4277 68.7999L39.3496 57.8561L34.6504 64.3305L52.433 77.2372L55.1375 79.2001L57.5502 76.888Z\"\n              fill=\"black\"\n            />\n          ) : (\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M60 117C91.4802 117 117 91.4802 117 60C117 28.5198 91.4802 3 60 3C28.5198 3 3 28.5198 3 60C3 91.4802 28.5198 117 60 117ZM60 120C93.1371 120 120 93.1371 120 60C120 26.8629 93.1371 0 60 0C26.8629 0 0 26.8629 0 60C0 93.1371 26.8629 120 60 120ZM55.0503 60.707L36.6655 42.3223L42.3224 36.6654L60.7071 55.0502L78.3848 37.3726L84.0416 43.0294L66.364 60.707L83.3346 77.6776L77.6777 83.3345L60.7071 66.3639L43.0294 84.0416L37.3726 78.3848L55.0503 60.707Z\"\n              fill=\"#FD0707\"\n            />\n          )}\n        </svg>\n        <h2 className=\"popup__title\">\n          {props.success\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h2>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport { register, login, checkToken } from \"../utils/auth\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport ConfirmDeletePlacePopup from \"./ConfirmDeletePlacePopup\";\nimport { Switch, Route, useHistory, withRouter } from \"react-router-dom\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App(props) {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(\n    false\n  );\n  const [isInfoTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false,\n    cardImage: \"\",\n    cardTitle: \"\",\n  });\n  const [cardIdForDelete, setCardIdForDelete] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccessRegister, setIsSuccessRegister] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n\n  const handleTokenCheck = () => {\n    if (localStorage.getItem(\"jwt\")) {\n      const token = localStorage.getItem(\"jwt\");\n\n      checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleRegister = (email, password) => {\n    register(email, password)\n      .then((result) => {\n        if (result) {\n          history.push(\"/sign-in\");\n          handleInfoTooltipPopupOpen(true);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        handleInfoTooltipPopupOpen(false);\n      });\n  };\n\n  const handleLogin = (email, password) => {\n    login(email, password)\n      .then((res) => {\n        if (res) {\n          setLoggedIn(true);\n          localStorage.setItem(\"jwt\", res.token);\n          setUserEmail(email);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        handleInfoTooltipPopupOpen(false);\n      });\n  };\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  };\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((items) => {\n        setCards(items);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(cardId) {\n    setIsLoading(true);\n    api\n      .deleteCard(cardId)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== cardId);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    setIsLoading(true);\n    api\n      .addNewCard(cardData)\n      .then((card) => {\n        setCards([card, ...cards]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleEditAvatarClick(e) {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick(e) {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick(e) {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(e) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardIdForDelete(e._id);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      cardImage: card.link,\n      cardTitle: card.name,\n    });\n  }\n\n  function handleInfoTooltipPopupOpen(success) {\n    setIsTooltipPopupOpen(true);\n    setIsSuccessRegister(success);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      cardImage: \"\",\n      cardTitle: \"\",\n    });\n    setIsTooltipPopupOpen(false);\n  }\n\n  function handleOvelayOrCrossClose(evt) {\n    if (\n      evt.target.classList.contains(\"popup\") ||\n      evt.target.classList.contains(\"popup__close-button\")\n    ) {\n      closeAllPopups();\n    }\n  }\n\n  const handleEscClose = (evt) => {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  };\n\n  function handleUpdateUser(userData) {\n    setIsLoading(true);\n    api\n      .setUserInfo(userData)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleUpdateAvatar(userAvatar) {\n    setIsLoading(true);\n    api\n      .setUserAvatar(userAvatar)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  return (\n    <div className=\"App\" onKeyUp={handleEscClose}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__container\">\n          <Switch>\n            <Route exact path=\"/\">\n              {loggedIn && (\n                <Header\n                  type=\"isLoggedIn\"\n                  loggedIn={loggedIn}\n                  text=\"Выйти\"\n                  handleLogout={handleLogout}\n                  email={userEmail}\n                />\n              )}\n              <ProtectedRoute\n                path=\"/\"\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteCardClick}\n                loggedIn={loggedIn}\n              />\n            </Route>\n            <Route path=\"/sign-up\">\n              {!loggedIn && (\n                <Header type=\"register\" link=\"/sign-in\" text=\"Войти\" />\n              )}\n              <Register handleRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">\n              {!loggedIn && (\n                <Header type=\"login\" link=\"/sign-up\" text=\"Регистрация\" />\n              )}\n              <Login handleLogin={handleLogin} />\n            </Route>\n          </Switch>\n          {loggedIn && <Footer />}\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onUpdateUser={handleUpdateUser}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onUpdateAvatar={handleUpdateAvatar}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onAddNewCard={handleAddPlaceSubmit}\n            submitText={isLoading ? \"Сохранение...\" : \"Создать\"}\n          />\n          <ConfirmDeletePlacePopup\n            isOpen={isConfirmDeletePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onDeleteCard={handleCardDelete}\n            cardId={cardIdForDelete}\n            submitText={isLoading ? \"Удаляем...\" : \"Да\"}\n          />\n\n          <ImagePopup card={selectedCard} onClose={handleOvelayOrCrossClose} />\n\n          <InfoTooltip\n            success={isSuccessRegister}\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={handleOvelayOrCrossClose}\n          />\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}