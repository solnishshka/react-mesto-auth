(this["webpackJsonpreact-mesto-auth"]=this["webpackJsonpreact-mesto-auth"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(20),o=n.n(s),i=n(8),r=(n(30),n(24)),l=n(2),u=n.p+"static/media/logo.a307e1c4.svg",m=n(0);var d=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(m.jsxs)("header",{className:"header",children:[e.loggedIn&&c&&Object(m.jsxs)("div",{className:"header__menu",children:[Object(m.jsx)("p",{className:"header__email header__email_theme_menu ".concat(c&&"header__email_visible"),children:e.email}),Object(m.jsx)("button",{type:"button",className:"header__button header__button_theme_menu ".concat(c&&"header__button_visible"),onClick:function(){return e.handleLogout()},children:e.text})]}),Object(m.jsxs)("div",{className:"header__container",children:[Object(m.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u041c\u0435\u0441\u0442\u043e",className:"header__logo"}),!e.loggedIn&&Object(m.jsx)(i.b,{className:"header__link",to:e.link,children:e.text}),e.loggedIn&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"header__email",children:e.email}),Object(m.jsx)("button",{type:"button",className:"header__button",onClick:function(){return e.handleLogout()},children:e.text}),Object(m.jsx)("button",{className:"header__burger-menu ".concat(c&&"header__burger-menu_opened"),onClick:function(){s(!c)}})]})]})]})};var j=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})},_=n.p+"static/media/editAvatarButton.a086f758.svg",b=c.a.createContext();var h=function(e){var t=Object(a.useContext)(b),n=e.card.likes.some((function(e){return e._id===t._id})),c="element__like-button ".concat(n?"element__like-button_liked":"");return Object(m.jsxs)("div",{className:"element",children:[Object(m.jsx)("img",{className:"element__image",src:e.card.link,onClick:function(){e.onCardClick(e.card)},alt:"\u041d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438: ".concat(e.card.name)}),Object(m.jsx)("button",{className:"element__delete-button ".concat(e.card.owner._id!==t._id?"element__delete-button_hidden":""),type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){e.onCardDelete(e.card)}}),Object(m.jsxs)("div",{className:"element__title-item",children:[Object(m.jsx)("h2",{className:"element__title",children:e.card.name}),Object(m.jsxs)("div",{className:"element__like",children:[Object(m.jsx)("button",{className:c,onClick:function(){e.onCardLike(e.card)},type:"button","aria-label":"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"}),Object(m.jsx)("p",{className:"element__like-count",children:e.card.likes.length})]})]})]})};var p=function(e){var t=Object(a.useContext)(b);return Object(m.jsxs)("main",{className:"content",children:[Object(m.jsxs)("section",{className:"profile",children:[Object(m.jsx)("div",{className:"profile__avatar-container",style:{backgroundImage:"url(".concat(_,")")},children:Object(m.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0444\u0438\u043b\u044f",className:"profile__avatar",src:t.avatar,onClick:e.onEditAvatar})}),Object(m.jsxs)("div",{className:"profile__profile-info",children:[Object(m.jsxs)("div",{className:"profile__title-item",children:[Object(m.jsx)("h1",{className:"profile__title",children:t.name}),Object(m.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClick:e.onEditProfile})]}),Object(m.jsx)("p",{className:"profile__subtitle",children:t.about})]}),Object(m.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:e.onAddPlace})]}),Object(m.jsx)("section",{className:"elements",children:e.cards.map((function(t){return Object(m.jsx)(h,{card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete},t._id)}))})]})},f=n(11),O=n(9);function x(e){var t=e.handleLogin,n=Object(a.useState)({email:"",password:""}),c=Object(l.a)(n,2),s=c[0],o=c[1];function i(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(f.a)({},n,a))}))}var r=s.email,u=s.password;return Object(m.jsxs)("form",{className:"form form_theme_auth",name:"login",onSubmit:function(e){e.preventDefault(),t(r,u)},children:[Object(m.jsx)("h2",{className:"form__title form__title_theme_auth",children:"\u0412\u0445\u043e\u0434"}),Object(m.jsx)("input",{onChange:i,type:"email",name:"email",value:r,placeholder:"Email",className:"form__item form__item_type_auth form__item_el_email",id:"email",required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"email-error"}),Object(m.jsx)("input",{onChange:i,type:"password",name:"password",value:u,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"form__item form__item_type_auth form__item_el_password",id:"password",required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"password-error"}),Object(m.jsx)("button",{type:"submit",className:"form__submit-button form__submit-button_theme_auth",children:"\u0412\u043e\u0439\u0442\u0438"})]})}function g(e){var t=e.handleRegister,n=Object(a.useState)({email:"",password:""}),c=Object(l.a)(n,2),s=c[0],o=c[1];function r(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(f.a)({},n,a))}))}var u=s.email,d=s.password;return Object(m.jsxs)("form",{className:"form form_theme_auth",name:"register",onSubmit:function(e){e.preventDefault(),t(u,d)},children:[Object(m.jsx)("h2",{className:"form__title form__title_theme_auth",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)("input",{value:u||"",type:"email",name:"email",placeholder:"Email",className:"form__item form__item_type_auth form__item_el_email",id:"email",onChange:r,required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"email-error"}),Object(m.jsx)("input",{value:d||"",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"form__item form__item_type_auth form__item_el_password",id:"password",onChange:r,required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"password-error"}),Object(m.jsx)("button",{type:"submit",className:"form__submit-button form__submit-button_theme_auth",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(m.jsxs)("p",{className:"form__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(m.jsx)(i.b,{to:"/sign-in",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}var v=n(25),C=n(3),N=function(e){var t=e.component,n=Object(v.a)(e,["component"]);return Object(m.jsx)(C.b,{children:n.loggedIn?Object(m.jsx)(t,Object(O.a)({},n)):Object(m.jsx)(C.a,{to:"/sign-in"})})},k=function(e){return Object(m.jsx)("div",{className:"popup popup_theme_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),onClick:e.onClose,children:Object(m.jsxs)("div",{className:"popup__container popup__container_theme_".concat(e.name),children:[Object(m.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(m.jsxs)("form",{className:"form form_type_".concat(e.name),name:e.name,onSubmit:e.onSubmit,noValidate:!0,children:[Object(m.jsx)("h2",{className:"form__title",children:e.title}),e.children,Object(m.jsx)("button",{type:"submit",className:"form__submit-button",children:e.submitText})]})]})})};function y(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),r=i[0],u=i[1],d=Object(a.useContext)(b);return Object(a.useEffect)((function(){s(d.name),u(d.about)}),[d]),Object(a.useEffect)((function(){e.isOpen||(s(d.name),u(d.about))}),[e.isOpen,d]),Object(m.jsxs)(k,{name:"edit-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitText:e.submitText,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:c,about:r})},children:[Object(m.jsx)("input",{type:"text",name:"userName",onChange:function(e){s(e.target.value)},placeholder:"\u0418\u043c\u044f",className:"form__item form__item_el_name",id:"userName",maxLength:"40",minLength:"2",value:c||"",required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"userName-error"}),Object(m.jsx)("input",{type:"text",name:"userJob",onChange:function(e){u(e.target.value)},placeholder:"\u041e \u0441\u0435\u0431\u0435",className:"form__item form__item_el_position",id:"userJob",minLength:"2",maxLength:"200",value:r||"",required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"userJob-error"})]})}function L(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){e.isOpen&&(t.current.value="")}),[e.isOpen]),Object(m.jsxs)(k,{name:"edit-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitText:e.submitText,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},children:[Object(m.jsx)("input",{type:"url",name:"avatarLink",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443",className:"form__item form__item_el_link-avatar",id:"avatarLink",ref:t,required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"avatarLink-error"})]})}function S(e){var t=c.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],o=c.a.useState(""),i=Object(l.a)(o,2),r=i[0],u=i[1];return c.a.useEffect((function(){e.isOpen||(s(""),u(""))}),[e.isOpen]),Object(m.jsxs)(k,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitText:e.submitText,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddNewCard({link:r,name:a})},children:[Object(m.jsx)("input",{type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430",className:"form__item form__item_el_title",id:"cardTitle",minLength:"2",maxLength:"30",onChange:function(e){s(e.target.value)},value:a,required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"cardTitle-error"}),Object(m.jsx)("input",{type:"url",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"form__item form__item_el_link",id:"cardLink",onChange:function(e){u(e.target.value)},value:r,required:!0}),Object(m.jsx)("span",{className:"form__item-error",id:"cardLink-error"})]})}var T=function(e){return Object(m.jsx)("div",{className:"popup popup_theme_preview-image ".concat(e.card.isOpen?"popup_opened":""),onClick:e.onClose,children:Object(m.jsxs)("div",{className:"popup__container popup__container_theme_preview-image",children:[Object(m.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(m.jsxs)("figure",{className:"popup__figure",children:[Object(m.jsx)("img",{className:"popup__image",src:e.card.cardImage,alt:"\u041d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438: ".concat(e.card.cardTitle)}),Object(m.jsx)("figcaption",{className:"popup__capture",children:e.card.cardTitle})]})]})})},w=n(22),P=n(23),E=new(function(){function e(t){var n=t.url,a=t.headers;Object(w.a)(this,e),this._headers=a,this._url=n}return Object(P.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"addNewCard",value:function(e){var t=e.link,n=e.name;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:n,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return t?fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})):fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"setLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"159d2343-af0f-47ed-9479-4499ffedf0da","Content-Type":"application/json"}}),I="https://auth.nomoreparties.co";function D(e){return Object(m.jsx)(k,{name:"apply-delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",submitText:e.submitText,onClose:e.onClose,isOpen:e.isOpen,onSubmit:function(t){t.preventDefault(),e.onDeleteCard(e.cardId)}})}function A(e){return Object(m.jsx)("div",{className:"popup popup_theme_info-tooltip ".concat(e.isOpen&&"popup_opened"),onClick:e.onClose,children:Object(m.jsxs)("div",{className:"popup__container popup__container_theme_info",children:[Object(m.jsx)("button",{className:"popup__close-button popup__close-button_theme_info",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(m.jsx)("svg",{className:"popup__icon",width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.success?Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M117 60C117 91.4802 91.4802 117 60 117C28.5198 117 3 91.4802 3 60C3 28.5198 28.5198 3 60 3C91.4802 3 117 28.5198 117 60ZM120 60C120 93.1371 93.1371 120 60 120C26.8629 120 0 93.1371 0 60C0 26.8629 26.8629 0 60 0C93.1371 0 120 26.8629 120 60ZM57.5502 76.888L86.7676 48.888L81.2324 43.112L54.4277 68.7999L39.3496 57.8561L34.6504 64.3305L52.433 77.2372L55.1375 79.2001L57.5502 76.888Z",fill:"black"}):Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60 117C91.4802 117 117 91.4802 117 60C117 28.5198 91.4802 3 60 3C28.5198 3 3 28.5198 3 60C3 91.4802 28.5198 117 60 117ZM60 120C93.1371 120 120 93.1371 120 60C120 26.8629 93.1371 0 60 0C26.8629 0 0 26.8629 0 60C0 93.1371 26.8629 120 60 120ZM55.0503 60.707L36.6655 42.3223L42.3224 36.6654L60.7071 55.0502L78.3848 37.3726L84.0416 43.0294L66.364 60.707L83.3346 77.6776L77.6777 83.3345L60.7071 66.3639L43.0294 84.0416L37.3726 78.3848L55.0503 60.707Z",fill:"#FD0707"})}),Object(m.jsx)("h2",{className:"popup__title",children:e.success?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]})})}var U=Object(C.h)((function(e){var t=Object(C.g)(),n=Object(a.useState)({}),c=Object(l.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),_=u[0],h=u[1],f=Object(a.useState)(!1),O=Object(l.a)(f,2),v=O[0],k=O[1],w=Object(a.useState)(!1),P=Object(l.a)(w,2),U=P[0],J=P[1],q=Object(a.useState)(!1),M=Object(l.a)(q,2),R=M[0],F=M[1],Z=Object(a.useState)(!1),B=Object(l.a)(Z,2),z=B[0],H=B[1],G=Object(a.useState)({isOpen:!1,cardImage:"",cardTitle:""}),K=Object(l.a)(G,2),V=K[0],Q=K[1],W=Object(a.useState)(""),X=Object(l.a)(W,2),Y=X[0],$=X[1],ee=Object(a.useState)([]),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),se=Object(l.a)(ce,2),oe=se[0],ie=se[1],re=Object(a.useState)(!1),le=Object(l.a)(re,2),ue=le[0],me=le[1],de=Object(a.useState)(!1),je=Object(l.a)(de,2),_e=je[0],be=je[1],he=Object(a.useState)(""),pe=Object(l.a)(he,2),fe=pe[0],Oe=pe[1],xe=function(){localStorage.getItem("jwt")&&function(e){return fetch("".concat(I,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))}(localStorage.getItem("jwt")).then((function(e){e&&(me(!0),Oe(e.data.email),t.push("/"))})).catch((function(e){console.log(e)}))};function ge(e){H(!0),be(e)}function ve(){k(!1),F(!1),J(!1),h(!1),Q({isOpen:!1,cardImage:"",cardTitle:""}),H(!1)}function Ce(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))&&ve()}return Object(a.useEffect)((function(){xe()}),[]),Object(a.useEffect)((function(){ue&&t.push("/")}),[ue]),Object(a.useEffect)((function(){E.getInitialCards().then((function(e){ae(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){E.getUserInfo().then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsx)("div",{className:"App",onKeyUp:function(e){"Escape"===e.key&&ve()},children:Object(m.jsx)(b.Provider,{value:s,children:Object(m.jsxs)("div",{className:"page__container",children:[Object(m.jsxs)(C.d,{children:[Object(m.jsxs)(C.b,{exact:!0,path:"/",children:[ue&&Object(m.jsx)(d,{type:"isLoggedIn",loggedIn:ue,text:"\u0412\u044b\u0439\u0442\u0438",handleLogout:function(){me(!1),localStorage.removeItem("jwt"),t.push("/sign-in")},email:fe}),Object(m.jsx)(N,{path:"/",component:p,onEditProfile:function(e){h(!0)},onAddPlace:function(e){k(!0)},onEditAvatar:function(e){J(!0)},onCardClick:function(e){Q({isOpen:!0,cardImage:e.link,cardTitle:e.name})},cards:ne,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===s._id}));E.changeLikeCardStatus(e._id,t).then((function(t){var n=ne.map((function(n){return n._id===e._id?t:n}));ae(n)})).catch((function(e){console.log(e)}))},onCardDelete:function(e){F(!0),$(e._id)},loggedIn:ue})]}),Object(m.jsxs)(C.b,{path:"/sign-up",children:[!ue&&Object(m.jsx)(d,{type:"register",link:"/sign-in",text:"\u0412\u043e\u0439\u0442\u0438"}),Object(m.jsx)(g,{handleRegister:function(e,n){(function(e,t){return fetch("".concat(I,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))})(e,n).then((function(e){e&&(t.push("/sign-in"),ge(!0))})).catch((function(e){console.log(e),ge(!1)}))}})]}),Object(m.jsxs)(C.b,{path:"/sign-in",children:[!ue&&Object(m.jsx)(d,{type:"login",link:"/sign-up",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(x,{handleLogin:function(e,n){(function(e,t){return fetch("".concat(I,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))}))})(e,n).then((function(n){n&&(me(!0),localStorage.setItem("jwt",n.token),Oe(e),t.push("/"))})).catch((function(e){console.log(e),ge(!1)}))}})]})]}),ue&&Object(m.jsx)(j,{}),Object(m.jsx)(y,{isOpen:_,onClose:Ce,onUpdateUser:function(e){ie(!0),E.setUserInfo(e).then((function(e){o(e)})).catch((function(e){console.log(e)})).finally((function(){ie(!1),ve()}))},submitText:oe?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)(L,{isOpen:U,onClose:Ce,onUpdateAvatar:function(e){ie(!0),E.setUserAvatar(e).then((function(e){o(e)})).catch((function(e){console.log(e)})).finally((function(){ie(!1),ve()}))},submitText:oe?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)(S,{isOpen:v,onClose:Ce,onAddNewCard:function(e){ie(!0),E.addNewCard(e).then((function(e){ae([e].concat(Object(r.a)(ne)))})).catch((function(e){console.log(e)})).finally((function(){ie(!1),ve()}))},submitText:oe?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(m.jsx)(D,{isOpen:R,onClose:Ce,onDeleteCard:function(e){ie(!0),E.deleteCard(e).then((function(){var t=ne.filter((function(t){return t._id!==e}));ae(t)})).catch((function(e){console.log(e)})).finally((function(){ie(!1),ve()}))},cardId:Y,submitText:oe?"\u0423\u0434\u0430\u043b\u044f\u0435\u043c...":"\u0414\u0430"}),Object(m.jsx)(T,{card:V,onClose:Ce}),Object(m.jsx)(A,{success:_e,isOpen:z,onClose:Ce})]})})})})),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(i.a,{children:Object(m.jsx)(U,{})})}),document.getElementById("root")),J()}},[[37,1,2]]]);
//# sourceMappingURL=main.cd278e92.chunk.js.map